{% extends "base.html" %}

{% block title %}{% if tag %}Edit {{ tag.name }}{% else %}Create Tag{% endif %} - {{ SITE_NAME }}{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto space-y-6">
    <div>
        <h1 class="font-display text-3xl font-bold">{% if tag %}Edit Tag{% else %}Create Tag{% endif %}</h1>
        {% if tag %}
        <p class="text-stage-500 dark:text-cream/50 mt-1">{{ tag.name }}</p>
        {% endif %}
    </div>

    <form method="post" class="space-y-6">
        {% csrf_token %}

        {% if form.errors %}
        <div class="bg-red-500/10 border border-red-500/20 rounded-xl p-4">
            <p class="text-red-600 dark:text-red-300 text-sm font-medium mb-2">Please fix the following errors:</p>
            <ul class="text-red-600 dark:text-red-300/70 text-sm space-y-1">
                {% for field, errors in form.errors.items %}
                    {% for error in errors %}
                    <li>{{ field|title }}: {{ error }}</li>
                    {% endfor %}
                {% endfor %}
            </ul>
        </div>
        {% endif %}

        <div class="bg-white/50 dark:bg-stage-800/50 backdrop-blur-sm rounded-xl border border-stage-200 dark:border-white/5 p-6 space-y-5">
            <h2 class="text-lg font-medium text-stage-800 dark:text-cream/90 border-b border-stage-200 dark:border-white/5 pb-3">Tag Details</h2>

            <div>
                <label for="{{ form.name.id_for_label }}" class="block text-sm font-medium text-stage-600 dark:text-cream/70 mb-1.5">Name *</label>
                {{ form.name }}
            </div>

            <div>
                <label for="{{ form.color.id_for_label }}" class="block text-sm font-medium text-stage-600 dark:text-cream/70 mb-1.5">Color</label>
                {{ form.color }}
            </div>
        </div>

        <div class="flex gap-3">
            <button type="submit" class="flex-1 bg-brand-500 hover:bg-brand-400 text-stage-900 py-3 rounded-lg text-base font-semibold btn-press transition-all">
                {% if tag %}Update Tag{% else %}Create Tag{% endif %}
            </button>
            <a href="{% url 'assets:tag_list' %}" class="px-6 py-3 bg-stage-100 dark:bg-stage-700 hover:bg-stage-200 dark:hover:bg-stage-600 text-stage-600 dark:text-cream/70 rounded-lg text-base font-medium transition-colors text-center">
                Cancel
            </a>
        </div>
    </form>
</div>
{% endblock %}
